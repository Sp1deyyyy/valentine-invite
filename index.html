<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine Invite</title>

  <style>
    :root{
      --bg:#0c0c10;
      --bg2:#14141a;

      --card:#ffffff0f;
      --border:#ffffff1a;

      --text:#f5f5f7;
      --muted:#c9c9d2;

      --accent:#d9b36b;   /* warm gold */
      --rose:#ff2d74;     /* rose accent (used sparingly) */

      /* Layout tokens */
      --shellW: 940px;
      --pad: 22px;
      --gap: 16px;
      --colLeft: 1.05fr;
      --colRight: .95fr;

      --hMin: 26px;
      --hVW: 3.6vw;
      --hMax: 44px;

      --photoAR: 4/3;
      --photoZoom: 1.03;

      --optCols: 1;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }

    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(900px 520px at 18% 0%, rgba(255,45,116,.10) 0%, transparent 60%),
        radial-gradient(900px 520px at 82% 14%, rgba(217,179,107,.10) 0%, transparent 55%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      display:grid;
      place-items:center;
      padding:22px;
      overflow-x:hidden;
    }

    .shell{
      width:min(var(--shellW), 96vw);
      display:grid;
      gap:14px;
      position:relative;
      z-index:1;
    }

    .card{
      border:1px solid var(--border);
      background:var(--card);
      border-radius:26px;
      padding:var(--pad);
      box-shadow: 0 18px 70px rgba(0,0,0,.45);
      backdrop-filter: blur(10px);
      overflow:hidden;
      position:relative;
    }

    .card::before{
      content:"";
      position:absolute;
      inset:-90px -60px auto -60px;
      height:140px;
      background: radial-gradient(closest-side, rgba(255,45,116,.12), transparent 70%);
      pointer-events:none;
      opacity:.8;
    }

    h1{
      margin:14px 0 10px;
      font-size: clamp(var(--hMin), var(--hVW), var(--hMax));
      letter-spacing:-.35px;
      position:relative;
      z-index:1;
    }

    p{
      margin:0 0 12px;
      color:var(--muted);
      line-height:1.55;
      font-size:16px;
      position:relative;
      z-index:1;
    }

    .meta{
      margin-top:8px;
      display:grid;
      gap:6px;
    }

    /* Same formatting for When and Ma */
    .metaLine{
      font-size:16px;
      color:var(--muted);
    }
    .label{
      color:var(--accent);
      font-weight:800;
      margin-right:6px;
    }

    .row{
      display:grid;
      grid-template-columns: var(--colLeft) var(--colRight);
      gap:var(--gap);
      align-items:stretch;
      margin-top:14px;
      position:relative;
      z-index:1;
    }
    @media (max-width: 820px){
      .row{ grid-template-columns: 1fr; }
    }

    .btns{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top:12px;
      position:relative;
      z-index:1;
    }

    button{
      border:0;
      cursor:pointer;
      border-radius:999px;
      padding:12px 18px;
      font-size:16px;
      box-shadow: 0 12px 25px rgba(0,0,0,.35);
      transition: transform .08s ease, filter .15s ease;
      user-select:none;
      touch-action: manipulation;
      position:relative;
      z-index:1;
    }
    button:active{ transform: scale(.98); }
    button:hover{ filter: brightness(1.05); }

    .primary{
      background: linear-gradient(135deg, var(--rose), #ff5f91);
      color:#0f0f14;
      font-weight:900;
    }
    .ghost{
      background:#ffffff12;
      color:var(--text);
      border:1px solid var(--border);
    }

    /* Photo */
    .photo{
      width:100%;
      aspect-ratio: var(--photoAR);
      border-radius:22px;
      border:1px solid var(--border);
      overflow:hidden;
      background:#ffffff08;
      position:relative;
    }
    .photo img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      filter: contrast(1.03) saturate(1.06);
      transform: scale(var(--photoZoom));
    }
    .photo::after{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(180deg, transparent 48%, rgba(0,0,0,.70));
      pointer-events:none;
    }
    .photoLabel{
      position:absolute;
      left:14px;
      bottom:12px;
      right:14px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      color:#fff;
      font-size:13px;
      opacity:.90;
      text-shadow: 0 6px 18px rgba(0,0,0,.55);
    }

    .page{ display:none; }
    .page.active{ display:block; }

    .options{
      margin-top:14px;
      display:grid;
      grid-template-columns: repeat(var(--optCols), minmax(0,1fr));
      gap:10px;
      position:relative;
      z-index:1;
    }
    .opt{
      padding:12px 14px;
      border:1px solid var(--border);
      background:#ffffff10;
      border-radius:18px;
      display:flex;
      gap:10px;
      align-items:flex-start;
      min-height:72px;
      position:relative;
      overflow:hidden;
    }
    .opt::before{
      content:"";
      position:absolute;
      left:0; top:0; bottom:0;
      width:3px;
      background: linear-gradient(180deg, var(--rose), transparent);
      opacity:.70;
    }
    .opt b{ color:#fff; }

    /* NO note (appears only after she tries NO) */
    .noNote{
      margin-top:12px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,90,122,.30);
      background: rgba(255,90,122,.10);
      color:#ffd6de;
      font-weight:900;
      display:none;
      letter-spacing:.25px;
      position:relative;
      z-index:1;
    }

    /* FX overlay */
    .fx{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:999;
    }
    .fly{
      position:absolute;
      bottom:-40px;
      font-size:24px;
      opacity:.98;
      animation: floatUp linear forwards;
      will-change: transform, opacity;
      filter: drop-shadow(0 10px 14px rgba(0,0,0,.35));
    }
    @keyframes floatUp{
      to{
        transform: translateY(-115vh) translateX(var(--drift)) rotate(var(--rot));
        opacity:0;
      }
    }
  </style>
</head>

<body>
  <div class="shell">

    <!-- PAGE 1 -->
    <section class="card page active" id="page1">
      <div class="row" style="margin-top:0;">
        <div>
          <h1 id="landingTitle">Emar & Jhen‚Äôs Advanced Valentine‚Äôs Day Celebration</h1>

          <div class="meta">
            <div class="metaLine" id="landingWhen">
              <span class="label">When:</span> February 11, 2026 (Wednesday), 8:30PM
            </div>
            <!-- Ma uses the SAME label style as When -->
            <div class="metaLine" id="landingMa">
              <span class="label">Ma:</span> Mamo
            </div>
          </div>

          <!-- Removed: ‚ÄúI made this invite page for you.‚Äù -->

          <div class="btns" style="margin-top:16px;">
            <button class="primary" id="openInviteBtn">Open the Invite</button>
          </div>
        </div>

        <div class="photo" id="photoBox">
          <img id="photoImg" alt="Us" />
          <div class="photoLabel">
            <span id="photoCaptionLeft">Emar + Jhen</span>
            <span id="photoCaptionRight"></span>
          </div>
        </div>
      </div>
    </section>

    <!-- PAGE 2 -->
    <section class="card page" id="page2">
      <h1 id="questionTitle" style="margin-top:6px;">Will you be my Valentine?</h1>

      <p id="questionSub" style="margin-bottom:8px;">
        Choose wisely.<br/>
        <span style="opacity:.78;">(Try clicking ‚ÄúNo‚Äù)</span>
      </p>

      <div class="btns">
        <button class="primary" id="yesBtn">Yes</button>
        <button class="ghost" id="noBtn">No</button>
      </div>

      <!-- Appears only AFTER she tries clicking NO -->
      <div class="noNote" id="noNote">Bawal tumanggi üòõüòõ</div>
    </section>

    <!-- PAGE 3 -->
    <section class="card page" id="page3">
      <h1 id="resultTitle" style="margin-top:6px;">üçΩÔ∏èüå∑üíò</h1>
      <p id="resultMain">Pick one.</p>

      <div class="options" id="optionsBox"></div>

      <div class="btns" style="margin-top:14px;">
        <button class="primary" id="celebrateBtn">Celebrate</button>
        <button class="ghost" id="backBtn">Back</button>
      </div>
    </section>
  </div>

  <div class="fx" id="fx" aria-hidden="true"></div>

  <script>
    /* LAYOUT */
    const LAYOUT = {
      shellW: 940,
      pad: 22,
      gap: 16,
      colLeft: 1.05,
      colRight: 0.95,
      hMin: 26,
      hVW: 3.6,
      hMax: 44,
      photoAR: "4/3",
      photoZoom: 1.03,
      optColsDesktop: 1,
      optColsMobile: 1
    };

    const root = document.documentElement;
    root.style.setProperty("--shellW", LAYOUT.shellW + "px");
    root.style.setProperty("--pad", LAYOUT.pad + "px");
    root.style.setProperty("--gap", LAYOUT.gap + "px");
    root.style.setProperty("--colLeft", LAYOUT.colLeft + "fr");
    root.style.setProperty("--colRight", LAYOUT.colRight + "fr");
    root.style.setProperty("--hMin", LAYOUT.hMin + "px");
    root.style.setProperty("--hVW", LAYOUT.hVW + "vw");
    root.style.setProperty("--hMax", LAYOUT.hMax + "px");
    root.style.setProperty("--photoAR", LAYOUT.photoAR);
    root.style.setProperty("--photoZoom", LAYOUT.photoZoom);

    function setOptCols(){
      const isMobile = window.matchMedia("(max-width: 820px)").matches;
      root.style.setProperty("--optCols", isMobile ? LAYOUT.optColsMobile : LAYOUT.optColsDesktop);
    }
    window.addEventListener("resize", setOptCols);
    setOptCols();

    /* CONTENT */
    const CONFIG = {
      photoSrc: "us.jpg",

      landing: {
        title: "Emar & Jhen‚Äôs Advanced Valentine‚Äôs Day Celebration",
        whenLine: "February 11, 2026 (Wednesday), 8:30PM",
        maValue: "Mamo",
        photoCaptionLeft: "Emar + Jhen",
        photoCaptionRight: ""
      },

      question: {
        title: "Will you be my Valentine?",
        yesText: "Yes",
        noText: "No",
        noNoteText: "Bawal tumanggi üòõüòõ"
      },

      result: {
        title: "üçΩÔ∏èüå∑üíò",
        mainText: "Pick one.",
        options: [
          { title: "Option 1", desc: "Bluewaters" },
          { title: "Option 2", desc: "Citywalk" }
        ]
      },

      fx: {
        emojis: ["üíñ","üíò","üêß","üêß"],
        burstCount: 45
      }
    };

    /* ENGINE */
    const $ = (id) => document.getElementById(id);

    const page1 = $("page1"), page2 = $("page2"), page3 = $("page3");
    function showPage(n){
      [page1,page2,page3].forEach(p => p.classList.remove("active"));
      (n===1?page1:n===2?page2:page3).classList.add("active");
    }

    // Fill content
    $("landingTitle").textContent = CONFIG.landing.title;
    $("landingWhen").innerHTML = `<span class="label">When:</span>${CONFIG.landing.whenLine}`;
    $("landingMa").innerHTML = `<span class="label">Ma:</span>${CONFIG.landing.maValue}`;
    $("photoCaptionLeft").textContent = CONFIG.landing.photoCaptionLeft;
    $("photoCaptionRight").textContent = CONFIG.landing.photoCaptionRight;

    $("questionTitle").textContent = CONFIG.question.title;
    $("yesBtn").textContent = CONFIG.question.yesText;
    $("noBtn").textContent = CONFIG.question.noText;
    $("noNote").textContent = CONFIG.question.noNoteText;

    $("resultTitle").textContent = CONFIG.result.title;
    $("resultMain").textContent = CONFIG.result.mainText;

    // Photo
    const img = $("photoImg");
    img.src = CONFIG.photoSrc;
    img.addEventListener("error", () => {
      $("photoBox").innerHTML = `
        <div style="height:100%; display:grid; place-items:center; padding:18px; text-align:center;">
          <div>
            <div style="font-size:34px; margin-bottom:10px;">üì∑</div>
            <div style="color:var(--text); font-weight:900; margin-bottom:6px;">Photo not found</div>
            <div style="color:var(--muted); font-size:14px; line-height:1.5;">
              Put your photo here named <b>us.jpg</b><br/>
              or change <b>CONFIG.photoSrc</b>.
            </div>
          </div>
        </div>
      `;
    });

    // Options
    $("optionsBox").innerHTML = CONFIG.result.options.map(o => `
      <div class="opt">
        <div style="min-width:78px;"><b>${o.title}</b></div>
        <div>
          <div style="color:var(--text); font-weight:900;">${o.desc}</div>
        </div>
      </div>
    `).join("");

    // FX
    const fxLayer = $("fx");
    function burstFX(count = 30){
      for(let i=0;i<count;i++){
        const el = document.createElement("div");
        el.className = "fly";
        el.textContent = CONFIG.fx.emojis[Math.floor(Math.random()*CONFIG.fx.emojis.length)];
        el.style.left = (Math.random()*100) + "vw";
        el.style.setProperty("--drift", (Math.random()*140 - 70) + "px");
        el.style.setProperty("--rot", (Math.random()*40 - 20) + "deg");
        el.style.animationDuration = (1.7 + Math.random()*1.7) + "s";
        el.style.fontSize = (18 + Math.random()*22) + "px";
        fxLayer.appendChild(el);
        setTimeout(()=> el.remove(), 3500);
      }
    }

    // Buttons
    $("openInviteBtn").addEventListener("click", () => showPage(2));

    $("yesBtn").addEventListener("click", () => {
      showPage(3);
      burstFX(CONFIG.fx.burstCount);
    });

    $("backBtn").addEventListener("click", () => showPage(2));
    $("celebrateBtn").addEventListener("click", () => burstFX(CONFIG.fx.burstCount));

    /* Improved NO behavior:
       - First attempt: run away + reveal note (with üòõüòõ)
       - After that: dodges on hover/click
    */
    const noBtn = $("noBtn");
    const noNote = $("noNote");
    let noTried = false;

    function runAway(intensity = 1){
      const card = page2.getBoundingClientRect();
      const btn  = noBtn.getBoundingClientRect();

      const maxX = (card.width - btn.width - 30) * (0.60 + 0.25*intensity);
      const maxY = 170 * (0.75 + 0.20*intensity);

      const x = Math.random()*maxX - maxX/2;
      const y = Math.random()*maxY - maxY/2;

      noBtn.style.transform = `translate(${x}px, ${y}px)`;
    }

    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      if(!noTried){
        noTried = true;
        noNote.style.display = "block";
        runAway(1);
        burstFX(10);
      } else {
        runAway(2);
      }
    });

    noBtn.addEventListener("mouseenter", () => {
      if(noTried) runAway(2);
    });
  </script>
</body>
</html>
